!function(){"use strict";function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var e=function(){function e(t,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.root=t,this.lerpSpeed=i||.07,this.current=0,this.contentArea=t.querySelector("#scrolling-area"),this.items=e.queryToArray("#scrolling-area > *").map((function(t){return new Object({t:t,x:0})})),this.bindToggles(),this.bindScrollButtons(),this.updateItemPositions(!0),this.updateToggleButtons(this.current,0)}var i,n,r;return i=e,r=[{key:"moveItemImmediately",value:function(t,e,i){t.t.style.transform="translate(".concat(e,"px, ").concat(i,"px)"),t.x=e}},{key:"queryToArray",value:function(t){return Array.prototype.slice.call(document.querySelectorAll(t))}},{key:"findAllSliders",value:function(){return e.queryToArray("[data-widget='slider']").map((function(t){return new e(t)}))}}],(n=[{key:"changeCurrentIndex",value:function(t){this.current===t||this.blocked||(this.updateToggleButtons(this.current,t),this.current=t,this.updateItemPositions(!1))}},{key:"nextIndex",value:function(){this.changeCurrentIndex((this.current+1)%this.items.length)}},{key:"previousIndex",value:function(){this.changeCurrentIndex((this.current-1+this.items.length)%this.items.length)}},{key:"bindToggles",value:function(){var t=this;this.toggleArea=this.root.querySelector("#toggle-area"),this.toggles=this.items.map((function(e,i){var n=document.createElement("button");return n.classList.add("slider__toggle-element","btn"),n.onclick=t.changeCurrentIndex.bind(t,i),t.toggleArea.appendChild(n),n}))}},{key:"bindScrollButtons",value:function(){this.next=this.root.querySelector("#next-item"),this.next.onclick=this.nextIndex.bind(this),this.previous=this.root.querySelector("#previous-item"),this.previous.onclick=this.previousIndex.bind(this)}},{key:"updateToggleButtons",value:function(t,e){this.toggles[t].classList.toggle("slider__toggle-element_actived",!1),this.toggles[e].classList.toggle("slider__toggle-element_actived",!0)}},{key:"updateItemPositions",value:function(t){var i=this,n=.5*this.contentArea.offsetWidth,r=.5*this.contentArea.offsetHeight;this.fullWidth=this.items.reduce((function(t,e){return t+e.t.offsetWidth}),0);var s=.5*this.fullWidth;this.items.map((function(t,e){return(e+i.current)%i.items.length})).reduce((function(o,l){var a=n-.5*i.items[i.current].t.offsetWidth,u=r-.5*i.items[l].t.offsetHeight,c=(o+s)%i.fullWidth-s+a,h=u;return t?e.moveItemImmediately(i.items[l],c,h):i.moveItemSmooth(i.items[l],c,h),o+i.items[l].t.offsetWidth}),0)}},{key:"moveItemSmooth",value:function(t,e,i){var n=this;this.blocked=!0,t.i&&clearInterval(t.i);var r=this.lerpSpeed;r-=this.lerpSpeed*(.5*Math.random()+.1);var s=t.x;t.x=e,Math.abs(s-e)+t.t.offsetWidth===this.fullWidth?t.t.style.zIndex="0":t.t.style.zIndex="1";var o=function(){if(Math.abs(s-e)<.01)return n.blocked=!1,void clearInterval(t.i);s+=r*(e-s),t.t.style.transform="translate(".concat(s,"px, ").concat(i,"px)")}.bind(this);t.i=setInterval(o,0)}}])&&t(i.prototype,n),r&&t(i,r),e}();window.onload=function(){e.findAllSliders()}}();